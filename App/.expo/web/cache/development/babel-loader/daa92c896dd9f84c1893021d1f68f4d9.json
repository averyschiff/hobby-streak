{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { models, tasks } from \"../db/\";\nvar SET_MODEL = 'SET_MODEL';\nexport var setModel = function setModel(model) {\n  return {\n    type: SET_MODEL,\n    model: model\n  };\n};\nexport var getModel = function getModel(model_id) {\n  return function _callee(dispatch) {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(models.getModel(model_id, function (_, _ref) {\n              var rows = _ref.rows;\n              dispatch(setModel(rows.item(0)));\n            }, function (_, err) {\n              alert('Error retrieving model: ' + err);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nvar initialModel = {};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialModel;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_MODEL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        modelName: action.model.modelName\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/jhett/Documents/averyStuff/hobby-streak/hobby-streak/App/store/singleModel.js"],"names":["models","tasks","SET_MODEL","setModel","model","type","getModel","model_id","dispatch","_","rows","item","err","alert","initialModel","state","action","modelName"],"mappings":";;;;;;;AAAA,SAAQA,MAAR,EAAgBC,KAAhB;AAEA,IAAMC,SAAS,GAAG,WAAlB;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD;AAAA,SAAY;AACnCC,IAAAA,IAAI,EAAEH,SAD6B;AAEnCE,IAAAA,KAAK,EAALA;AAFmC,GAAZ;AAAA,CAAjB;AAKP,OAAO,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAc;AACrC,SAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACAR,MAAM,CAACM,QAAP,CAAgBC,QAAhB,EACL,UAACE,CAAD,QAAe;AAAA,kBAAVC,IAAU,QAAVA,IAAU;AACdF,cAAAA,QAAQ,CAACL,QAAQ,CAACO,IAAI,CAACC,IAAL,CAAU,CAAV,CAAD,CAAT,CAAR;AACA,aAHI,EAIL,UAACF,CAAD,EAAIG,GAAJ,EAAW;AAACC,cAAAA,KAAK,CAAC,6BAA6BD,GAA9B,CAAL;AAAwC,aAJ/C,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAQA,CATM;AAWP,IAAME,YAAY,GAAG,EAArB;AAEA,eAAe,YAAqC;AAAA,MAA3BC,KAA2B,uEAArBD,YAAqB;AAAA,MAAPE,MAAO;;AACnD,UAAQA,MAAM,CAACX,IAAf;AACC,SAAKH,SAAL;AACC,6CACIa,KADJ;AAECE,QAAAA,SAAS,EAAED,MAAM,CAACZ,KAAP,CAAaa;AAFzB;;AAID;AACC,aAAOF,KAAP;AAPF;AASA","sourcesContent":["import {models, tasks} from \"../db/\"\n\nconst SET_MODEL = 'SET_MODEL'\n\nexport const setModel = (model) => ({\n\ttype: SET_MODEL,\n\tmodel\n})\n\nexport const getModel = (model_id) => {\n\treturn async dispatch => {\n\t\tawait models.getModel(model_id,\n\t\t\t(_, {rows}) => {\n\t\t\t\tdispatch(setModel(rows.item(0)))\n\t\t\t},\n\t\t\t(_, err)=> {alert('Error retrieving model: ' + err)}\n\t\t)\n\t}\n}\n\nconst initialModel = {}\n\nexport default function (state=initialModel, action){\n\tswitch (action.type){\n\t\tcase SET_MODEL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodelName: action.model.modelName\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}