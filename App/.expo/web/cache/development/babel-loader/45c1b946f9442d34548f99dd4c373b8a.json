{"ast":null,"code":"import * as SQLite from 'expo-sqlite';\nvar db = SQLite.openDatabase('hobby.db');\n\nfunction clearTables() {\n  db.transaction(function (tx) {\n    tx.executeSql(\"DROP TABLE armies\");\n    tx.executeSql(\"DROP TABLE units\");\n    tx.executeSql(\"DROP TABLE models\");\n    tx.executeSql(\"DROP TABLE tasks\");\n  });\n}\n\nvar createSampleTable = function createSampleTable(sample, insert, insertArr) {\n  if (sample) {\n    return function (tx, rows) {\n      tx.executeSql(insert, insertArr, null, function (tx, err) {\n        return alert('error creating sample: ' + err);\n      });\n    };\n  } else return null;\n};\n\nvar createTable = function createTable(sample, create, insert, insertArr, select) {\n  db.transaction(function (tx) {\n    tx.executeSql(create, [], createSampleTable(sample, insert, insertArr), function (tx, err) {\n      alert('Error creating table: ' + err);\n    });\n  });\n};\n\nvar testTable = function testTable(select) {\n  db.transaction(function (tx) {\n    tx.executeSql(select, [], function (tx, rows) {\n      console.log(rows);\n    }, function (tx, err) {\n      alert(\"error fetching sample: \" + err);\n    });\n  });\n};\n\nfunction createArmyTable() {\n  var sample = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var createArmies = \"CREATE TABLE IF NOT EXISTS armies \" + \"(id INTEGER \" + \"PRIMARY KEY NOT NULL, \" + \"armyName VARCHAR \" + \"NOT NULL, \" + \"completion REAL \" + \"DEFAULT 0.0 CHECK (completion >= 0.0 AND completion <= 1.0))\";\n  var insertArmy = \"INSERT INTO armies (armyName) values(?)\";\n  var insertArmyArr = [\"sampleArmy\"];\n  createTable(sample, createArmies, insertArmy, insertArmyArr);\n}\n\nfunction testArmyTable() {\n  var selectArmy = \"SELECT * FROM armies\";\n  testTable(selectArmy);\n}\n\nfunction createUnitTable() {\n  var sample = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var createUnits = \"CREATE TABLE IF NOT EXISTS units \" + \"(id INTEGER \" + \"PRIMARY KEY NOT NULL, \" + \"unitName VARCHAR \" + \"NOT NULL, \" + \"completion REAL \" + \"DEFAULT 0.0 CHECK (completion >= 0.0 AND completion <= 1.0), \" + \"army_id INTEGER \" + \"NOT NULL, \" + \"FOREIGN KEY (army_id) \" + \"REFERENCES armies (army_id)\" + \")\";\n  var insertUnit = \"INSERT INTO units (unitName, army_id) values(?, ?)\";\n  var insertUnitArr = [\"Mork's Mighty Mushroom\", 1];\n  createTable(sample, createUnits, insertUnit, insertUnitArr);\n}\n\nfunction testUnitTable() {\n  var selectUnit = \"SELECT * FROM units\";\n  testTable(selectUnit);\n}\n\nfunction createModelTable() {\n  var sample = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var createModels = \"CREATE TABLE IF NOT EXISTS models \" + \"(id INTEGER \" + \"PRIMARY KEY NOT NULL, \" + \"modelName VARCHAR \" + \"NOT NULL, \" + \"completion REAL \" + \"DEFAULT 0.0 CHECK (completion >= 0.0 AND completion <= 1.0), \" + \"army_id INTEGER \" + \"NOT NULL, \" + \"unit_id INTEGER \" + \"NOT NULL, \" + \"FOREIGN KEY (army_id) \" + \"REFERENCES armies (army_id),\" + \"FOREIGN KEY (unit_id) \" + \"REFERENCES units (unit_id)\" + \")\";\n  var insertModel = \"INSERT INTO models (modelName, army_id, unit_id) values(?, ?, ?)\";\n  var insertModelArr = [\"Model 1\", 1, 1];\n  createTable(sample, createModels, insertModel, insertModelArr);\n}\n\nfunction testModelTable() {\n  var selectModel = \"SELECT * FROM models\";\n  testTable(selectModel);\n}\n\nfunction createTaskTable() {\n  var sample = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var createTasks = \"CREATE TABLE IF NOT EXISTS tasks \" + \"(id INTEGER \" + \"PRIMARY KEY NOT NULL, \" + \"task VARCHAR \" + \"NOT NULL, \" + \"complete INTEGER \" + \"DEFAULT 0 CHECK (complete == 0 OR complete == 1), \" + \"army_id INTEGER \" + \"NOT NULL, \" + \"unit_id INTEGER \" + \"NOT NULL, \" + \"model_id INTEGER \" + \"NOT NULL, \" + \"FOREIGN KEY (army_id) \" + \"REFERENCES armies (army_id), \" + \"FOREIGN KEY (unit_id) \" + \"REFERENCES units (unit_id), \" + \"FOREIGN KEY (model_id) \" + \"REFERENCES models (model_id)\" + \")\";\n  var insertTask = \"INSERT INTO tasks (task, army_id, unit_id, model_id) \" + \"values (?, 1, 1, 1), \" + \"(?, 1, 1, 1), \" + \"(?, 1, 1, 1), \" + \"(?, 1, 1, 1), \" + \"(?, 1, 1, 1), \" + \"(?, 1, 1, 1), \" + \"(?, 1, 1, 1), \" + \"(?, 1, 1, 1)\";\n  var insertTaskArr = [\"Unfucked\", \"Built\", \"Primed\", \"Basecoat\", \"Painted\", \"Based\", \"Magnetized\", \"Lacquered\"];\n  createTable(sample, createTasks, insertTask, insertTaskArr);\n}\n\nfunction testTaskTable() {\n  var selectTask = \"SELECT * FROM tasks\";\n  testTable(selectTask);\n}\n\nexport default {\n  createArmyTable: createArmyTable,\n  testArmyTable: testArmyTable,\n  createUnitTable: createUnitTable,\n  testUnitTable: testUnitTable,\n  createModelTable: createModelTable,\n  testModelTable: testModelTable,\n  createTaskTable: createTaskTable,\n  testTaskTable: testTaskTable,\n  clearTables: clearTables\n};","map":{"version":3,"sources":["/home/jhett/Documents/averyStuff/hobby-streak/hobby-streak/App/db/db-init.js"],"names":["SQLite","db","openDatabase","clearTables","transaction","tx","executeSql","createSampleTable","sample","insert","insertArr","rows","err","alert","createTable","create","select","testTable","console","log","createArmyTable","createArmies","insertArmy","insertArmyArr","testArmyTable","selectArmy","createUnitTable","createUnits","insertUnit","insertUnitArr","testUnitTable","selectUnit","createModelTable","createModels","insertModel","insertModelArr","testModelTable","selectModel","createTaskTable","createTasks","insertTask","insertTaskArr","testTaskTable","selectTask"],"mappings":"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","sourcesContent":["import * as SQLite from 'expo-sqlite'\nconst db = SQLite.openDatabase('hobby.db');\n\nfunction clearTables(){\n\tdb.transaction(tx => {\n\t\ttx.executeSql(\"DROP TABLE armies\")\n\t\ttx.executeSql(\"DROP TABLE units\")\n\t\ttx.executeSql(\"DROP TABLE models\")\n\t\ttx.executeSql(\"DROP TABLE tasks\")\n\t})\n}\n\n\nconst createSampleTable = (sample, insert, insertArr) => {\n\tif (sample){\n\t\treturn (tx, rows) => {\n\t\t\ttx.executeSql(insert,\n\t\t\t\tinsertArr,\n\t\t\t\tnull,\n\t\t\t\t(tx, err) => alert('error creating sample: ' + err)\n\t\t\t)\n\t\t}\n\t} else return null\n}\n\nconst createTable = (sample, create, insert, insertArr, select) => {\n\tdb.transaction(tx => {\n\t\ttx.executeSql(create, \n\t\t\t[], \n\t\t\tcreateSampleTable(sample, insert, insertArr),\n\t\t\t(tx, err) => {\n\t\t\t\talert('Error creating table: ' + err)\n\t\t\t})\n\t})\n} \n\nconst testTable = (select) => {\n\tdb.transaction(tx => {\n\t\ttx.executeSql(select,\n\t\t\t[],\n\t\t\t(tx, rows) => {\n\t\t\t\tconsole.log(rows)\n\t\t\t},\n\t\t\t(tx, err) => {\n\t\t\t\talert(\"error fetching sample: \" + err)\n\t\t\t})\n\t})\n}\n\nfunction createArmyTable(sample=false){\n\tconst createArmies = \n\t\t\"CREATE TABLE IF NOT EXISTS armies \" +\n\t\t\t\"(id INTEGER \" +\n\t\t\t\t\"PRIMARY KEY NOT NULL, \" +\n\t\t\t\"armyName VARCHAR \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"completion REAL \" +\n\t\t\t\t\"DEFAULT 0.0 CHECK (completion >= 0.0 AND completion <= 1.0))\"\n\tconst insertArmy = \"INSERT INTO armies (armyName) values(?)\"\n\tconst insertArmyArr = [\"sampleArmy\"]\n\tcreateTable(sample, createArmies, insertArmy, insertArmyArr)\n}\n\nfunction testArmyTable(){\n\tconst selectArmy = \"SELECT * FROM armies\"\n\ttestTable(selectArmy)\n}\n\nfunction createUnitTable(sample=false){\n\tconst createUnits = \n\t\t\"CREATE TABLE IF NOT EXISTS units \" +\n\t\t\t\"(id INTEGER \" +\n\t\t\t\t\"PRIMARY KEY NOT NULL, \" +\n\t\t\t\"unitName VARCHAR \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"completion REAL \" +\n\t\t\t\t\"DEFAULT 0.0 CHECK (completion >= 0.0 AND completion <= 1.0), \" +\n\t\t\t\"army_id INTEGER \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"FOREIGN KEY (army_id) \" +\n\t\t\t\t\"REFERENCES armies (army_id)\" +\n\t\t\t\")\"\n\tconst insertUnit = \"INSERT INTO units (unitName, army_id) values(?, ?)\"\n\tconst insertUnitArr = [\"Mork's Mighty Mushroom\", 1]\n\tcreateTable(sample, createUnits, insertUnit, insertUnitArr)\n}\n\nfunction testUnitTable(){\n\tconst selectUnit = \"SELECT * FROM units\"\n\ttestTable(selectUnit)\n}\nfunction createModelTable(sample=false){\n\tconst createModels = \n\t\t\"CREATE TABLE IF NOT EXISTS models \" +\n\t\t\t\"(id INTEGER \" +\n\t\t\t\t\"PRIMARY KEY NOT NULL, \" +\n\t\t\t\"modelName VARCHAR \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"completion REAL \" +\n\t\t\t\t\"DEFAULT 0.0 CHECK (completion >= 0.0 AND completion <= 1.0), \" +\n\t\t\t\"army_id INTEGER \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"unit_id INTEGER \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"FOREIGN KEY (army_id) \" +\n\t\t\t\t\"REFERENCES armies (army_id),\" +\n\t\t\t\"FOREIGN KEY (unit_id) \" +\n\t\t\t\t\"REFERENCES units (unit_id)\" +\n\t\t\t\")\"\n\tconst insertModel = \"INSERT INTO models (modelName, army_id, unit_id) values(?, ?, ?)\"\n\tconst insertModelArr = [\"Model 1\", 1, 1]\n\tcreateTable(sample, createModels, insertModel, insertModelArr)\n}\n\nfunction testModelTable(){\n\tconst selectModel = \"SELECT * FROM models\"\n\ttestTable(selectModel)\n}\nfunction createTaskTable(sample=false){\n\tconst createTasks = \n\t\t\"CREATE TABLE IF NOT EXISTS tasks \" +\n\t\t\t\"(id INTEGER \" +\n\t\t\t\t\"PRIMARY KEY NOT NULL, \" +\n\t\t\t\"task VARCHAR \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"complete INTEGER \" +\n\t\t\t\t\"DEFAULT 0 CHECK (complete == 0 OR complete == 1), \" +\n\t\t\t\"army_id INTEGER \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"unit_id INTEGER \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"model_id INTEGER \" +\n\t\t\t\t\"NOT NULL, \" +\n\t\t\t\"FOREIGN KEY (army_id) \" +\n\t\t\t\t\"REFERENCES armies (army_id), \" +\n\t\t\t\"FOREIGN KEY (unit_id) \" +\n\t\t\t\t\"REFERENCES units (unit_id), \" +\n\t\t\t\"FOREIGN KEY (model_id) \" +\n\t\t\t\t\"REFERENCES models (model_id)\" +\n\t\t\t\")\"\n\tconst insertTask = \"INSERT INTO tasks (task, army_id, unit_id, model_id) \"+ \n\t\t\"values (?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1), \"+\n\t\t\"(?, 1, 1, 1)\"\n\tconst insertTaskArr = [\"Unfucked\", \"Built\", \"Primed\", \"Basecoat\", \"Painted\", \"Based\", \"Magnetized\", \"Lacquered\"]\n\tcreateTable(sample, createTasks, insertTask, insertTaskArr)\n}\n\n\nfunction testTaskTable(){\n\tconst selectTask = \"SELECT * FROM tasks\"\n\ttestTable(selectTask)\n}\n\nexport default {\n\tcreateArmyTable,\n\ttestArmyTable,\n\tcreateUnitTable,\n\ttestUnitTable,\n\tcreateModelTable,\n\ttestModelTable,\n\tcreateTaskTable,\n\ttestTaskTable,\n\tclearTables\n}\n"]},"metadata":{},"sourceType":"module"}